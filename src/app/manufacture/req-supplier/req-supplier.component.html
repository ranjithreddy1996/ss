<!--first row-->
<div class="clearfix">&nbsp;</div>
<div class="card rows">
    <div class="card-body">
        <div class="clearfix">&nbsp;</div>
        <div class="row rows">
            <div class="col-md-8">
                <button class="btn btn-rounded btn-md text-white mr-2" style="background-color: #6610f2;"
                    (click)="openMediumModalPopup(requestfororders);clear(ServiceData)"
                    title="click here for Registration"> Order For Material
                </button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                <button class="btn btn-rounded btn-md text-white mr-2" style="background-color: #6610f2;"
                    (click)="openMediumModalPopup(requestformultipleorders);clear(ServiceData)"
                    title="click here for Registration">Multiple Orders For Material
                </button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button class="btn btn-rounded btn-md text-white mr-2" style="background-color: #6610f2;"
                    (click)="openMediumModalPopup(changeinquantity);clear(ServiceData)"
                    title="click here for Registration">Modification Quantity
                </button>
            </div>
            <div class="col-md-4">
                <div class="form-group has-search">
                    <span class="fa fa-search form-control-feedback"></span>
                    <!-- <input type="text" [(ngModel)]="searchText" class="form-control btn-radius"
                        placeholder="Search By category"> -->
                </div>
            </div>
        </div>
        <!--second row-->
        <div class="row">
            <!--Pagination-->
            <!-- <div class="col-md-8">
                            <ul *ngIf="pager.pages && pager.pages.length" class="pagination upper">
                                <li class="pageItemRight" [ngClass]="{disabled:pager.currentPage === 1}">
                                    <a class="page-link" aria-label="Previous" (click)="setPage(pager.currentPage - 1)"
                                        style="font-size: 12px;">&#8592;&nbsp;&nbsp;&nbsp;Previous</a>
                                </li>
                                <span class="countofPages">{{pager.currentPage}}&nbsp;&nbsp;/&nbsp;&nbsp;{{pager.totalPages}}</span>
                                <li class="pageItemLeft" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                    <a class="page-link" aria-label="Next" (click)="setPage(pager.currentPage + 1)"
                                        style="font-size: 12px;">&nbsp;&nbsp;Next&nbsp;&nbsp;&nbsp;&nbsp;&#8594;</a>
                                </li>
                            </ul>
                        </div> -->
        </div>
        <div class="clearfix">&nbsp;</div>
        <!--this is for no data found table-->
        <div class="row">
            <div class="col-md-12 text-center middle">
                <!-- <div *ngIf="show==true">
                    <img src="assets/images/img_empty_statues.png" class="nodataimage" alt="No Data Image">
                    <h4>{{tabledatanotfound}}</h4>
                </div> -->
            </div>
        </div>
        <!--Index list of Sub category names view-->
        <div class="clearfix">&nbsp;</div>
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">

                    <table class="table table-striped" [mfData]="getapp" #gf="mfDataTable" [mfRowsOnPage]="10">
                        <thead>
                            <tr>
                                <th style="width: 10%">
                                    <mfDefaultSorter by="name">S.No</mfDefaultSorter>
                                </th>
                                <th style="width: 15%">
                                    <mfDefaultSorter by="email">Request Id </mfDefaultSorter>
                                </th>
                                <th style="width: 20%">
                                    <mfDefaultSorter by="age">Supplier Id</mfDefaultSorter>
                                </th>
                                <th style="width: 20%">
                                    <mfDefaultSorter by="city">Material Id</mfDefaultSorter>
                                </th>
                                <th style="width: 20%">
                                    <mfDefaultSorter by="city">Material Name</mfDefaultSorter>
                                </th>

                                <th style="width: 20%">
                                    <mfDefaultSorter by="city">Quantity</mfDefaultSorter>
                                </th>
                                <th style="width: 20%">
                                    <mfDefaultSorter by="city">Cancel</mfDefaultSorter>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let data of gf.data; let i=index">
                                <td>{{i+1}}</td>
                                <td class="requestid">{{data[0]}}</td>
                                <td class="elips">{{data[2]}}</td>
                                <td class="app">{{data[3]}}</td>
                                <td class="elips">{{data[4]}}</td>
                                <td class="elips">{{data[5 ]}}</td>
                                <td><button (click)="cancel($event)">Cancel</button></td>
                            </tr>


                        </tbody>
                        <tfoot class="fixed">
                            <tr>
                                <td colspan="10">
                                    <mfBootstrapPaginator [rowsOnPageSet]="[10,20,30]"></mfBootstrapPaginator>
                                </td>
                            </tr>
                        </tfoot>
                    </table>



                    <!-- <table class="table table-striped table-borderless" [mfData]="getapp" #mf="mfDataTable" [mfRowsOnPage]="10">
                        <thead class="bg-dark text-white">
                            <tr>
                                <th class="text-white">S.No</th>
                                <th class="text-white">Request Id</th>
                                <th class="text-white">Supplier Id</th>
                                <th class="text-white">Material Id</th>
                                <th class="text-white">Material Name</th>
                                <th class="text-white">Quantity</th>
                                <th class="text-white">Cancel</th>


                            </tr>
                        </thead> -->
                    <!-- <tbody>
                            <tr *ngFor="let data of mfData; let i=index">
                                <td>{{i+1}}</td>
                                <td class="requestid">{{data[0]}}</td>

                                <td class="elips">{{data[2]}}</td>
                                <td class="app">{{data[3]}}</td>
                                <td class="elips">{{data[4]}}</td>
                                <td class="elips">{{data[5 ]}}</td>
                                <td><button (click)="cancel($event)">Cancel</button></td>

                            </tr>
                        </tbody>
                        <tfoot class="fixed">
                            <tr>
                                <td colspan="10">
                                    <mfBootstrapPaginator [rowsOnPageSet]="[10,20,30]"></mfBootstrapPaginator>
                                </td>
                            </tr>
                            </tfoot>
                    </table> -->
                </div>
            </div>
        </div>
        <!--adding spa category modal popup-->
        <ng-template #requestfororders let-c="close" let-d="dismiss">
            <div class="modal-content">

                <div class="modal-body">
                    <div class="modal-body">
                        <h4 class="text-center font-medium text-dark">Order For Material</h4>
                        <!-- addingUniversity(ServiceData)" -->
                        <form #universityForm="ngForm" (ngSubmit)="universityForm.form.valid">
                            <div class=" row">
                                <!--Category Name-->

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="regsitersupplierid">Supplier ID</label>
                                        <input type="text" id="regsitersupplierid" name="supplierid"
                                            placeholder="Supplier ID" class="form-control form_color"
                                            [(ngModel)]="ServiceData.id" #supplierid="ngModel"
                                            [ngClass]="{'is-invalid': universityForm.submitted && supplierid.invalid}"
                                            required />
                                        <div class="invalid-feedback"
                                            *ngIf="universityForm.submitted && supplierid.invalid">
                                            <div *ngIf="supplierid.errors.required">Supplier ID is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="regsitermaterialid">Material Id</label>
                                        <input type="text" id="regsitermaterialid" name="materialid"
                                            placeholder="Material ID" class="form-control form_color"
                                            [(ngModel)]="ServiceData.materialid" #materialid="ngModel"
                                            [ngClass]="{'is-invalid': universityForm.submitted && materialid.invalid}"
                                            required />
                                        <div class="invalid-feedback"
                                            *ngIf="universityForm.submitted && materialid.invalid">
                                            <div *ngIf="materialid.errors.required">Material Id is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="registermaterial">Material Name</label>
                                        <input type="text" id="registermaterial" name="materialname"
                                            placeholder="Material name" class="form-control form_color"
                                            [(ngModel)]="ServiceData.materialname" #materialname="ngModel"
                                            [ngClass]="{'is-invalid': universityForm.submitted && materialname.invalid}"
                                            required />
                                        <div class="invalid-feedback"
                                            *ngIf="universityForm.submitted && materialname.invalid">
                                            <div *ngIf="materialname.errors.required">Material Name is Required</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="registerquantity">Quantity</label>
                                        <input type="text" id="registerquantity" name="quantity" placeholder="Quantity"
                                            class="form-control form_color" [(ngModel)]="ServiceData.quantity"
                                            #quantity="ngModel"
                                            [ngClass]="{'is-invalid': universityForm.submitted && quantity.invalid}"
                                            required />
                                        <div class="invalid-feedback"
                                            *ngIf="universityForm.submitted && quantity.invalid">
                                            <div *ngIf="quantity.errors.required">Quantity field is Required</div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <div class="col-md-12 text-center">
                                <!-- <span class="text-danger">{{addingError}}</span> -->
                            </div>
                            <!--Modal footer for In Room dining editing-->
                            <div class="modal-footer">
                                <div class="col-md-12 text-center">
                                    <button type="submit" class="btn btn-rounded btn-save text-white"
                                        *ngIf="universityForm.form.invalid">Submit</button>&nbsp;&nbsp;
                                    <button type="submit" class="btn btn-rounded btn-save text-white"
                                        *ngIf="universityForm.form.valid"
                                        (click)="closing();openMediumModalPopup(confirm);">Submit</button>&nbsp;&nbsp;
                                    <button type="reset" class="btn btn-rounded btn-cancel text-white"
                                        (click)="d('Cross click');clear(ServiceData)"
                                        data-dismiss="modal">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!--Accepting confirmation popup-->
            <ng-template #confirm let-c="close" let-d="dismiss">
                <div class="clearfix">&nbsp;</div>
                <div class="clearfix">&nbsp;</div>
                <h6 class="text-center font-light smallPopups">Are you sure want to Submit the Form &#63;</h6>
                <div class="modal-body">
                    <div class="clearfix">&nbsp;</div>
                    <div class="text-center">
                        <button class="btn btn-rounded btn-save text-white" style="width: 65px;"
                            (click)="oreder(ServiceData)">Yes</button>&nbsp;&nbsp;&nbsp;&nbsp;
                        <button class="btn btn-rounded btn-cancel text-white" style="width: 65px;"
                            (click)="d('Cross click')"> No </button>
                    </div>
                    <div class="clearfix">&nbsp;</div>
                </div>
            </ng-template>
        </ng-template>
        <!-- ----========Change in quantity====__ -->

        <ng-template #changeinquantity let-c="close" let-d="dismiss">
            <div class="modal-content">

                <div class="modal-body">
                    <div class="modal-body">
                        <h4 class="text-center font-medium text-dark"> Material Quantity Change</h4>
                        <!-- addingUniversity(ServiceData)" -->
                        <form #universityForm="ngForm" (ngSubmit)="universityForm.form.valid">
                            <div class=" row">
                                <!--Category Name-->

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="regsiterrequestid">Request Id</label>
                                        <input type="text" id="regsiterrequestid" name="requestid"
                                            placeholder="Request ID" class="form-control form_color"
                                            [(ngModel)]="ServiceDat.requestid" #requestid="ngModel"
                                            [ngClass]="{'is-invalid': universityForm.submitted && requestid.invalid}"
                                            required />
                                        <div class="invalid-feedback"
                                            *ngIf="universityForm.submitted && requestid.invalid">
                                            <div *ngIf="requestid.errors.required">Request Id is Required</div>
                                        </div>
                                    </div>
                                </div>




                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="registerquantity">Quantity</label>
                                        <input type="text" id="registerquantity" name="quantity" placeholder="Quantity"
                                            class="form-control form_color" [(ngModel)]="ServiceDat.quantity"
                                            #quantity="ngModel"
                                            [ngClass]="{'is-invalid': universityForm.submitted && quantity.invalid}"
                                            required />
                                        <div class="invalid-feedback"
                                            *ngIf="universityForm.submitted && quantity.invalid">
                                            <div *ngIf="quantity.errors.required">Quantity field is Required</div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <div class="col-md-12 text-center">
                                <!-- <span class="text-danger">{{addingError}}</span> -->
                            </div>
                            <!--Modal footer for In Room dining editing-->
                            <div class="modal-footer">
                                <div class="col-md-12 text-center">
                                    <button type="submit" class="btn btn-rounded btn-save text-white"
                                        *ngIf="universityForm.form.invalid">Submit</button>&nbsp;&nbsp;
                                    <button type="submit" class="btn btn-rounded btn-save text-white"
                                        *ngIf="universityForm.form.valid"
                                        (click)="closing();openMediumModalPopup(confirm);">Submit</button>&nbsp;&nbsp;
                                    <button type="reset" class="btn btn-rounded btn-cancel text-white"
                                        (click)="d('Cross click');iclear(ServiceData)"
                                        data-dismiss="modal">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!--Accepting confirmation popup-->
            <ng-template #confirm let-c="close" let-d="dismiss">
                <div class="clearfix">&nbsp;</div>
                <div class="clearfix">&nbsp;</div>
                <h6 class="text-center font-light smallPopups">Are you sure want to Submit the Form &#63;</h6>
                <div class="modal-body">
                    <div class="clearfix">&nbsp;</div>
                    <div class="text-center">
                        <button class="btn btn-rounded btn-save text-white" style="width: 65px;"
                            (click)="increaseinquantity(ServiceDat)">Yes</button>&nbsp;&nbsp;&nbsp;&nbsp;
                        <button class="btn btn-rounded btn-cancel text-white" style="width: 65px;"
                            (click)="d('Cross click')"> No </button>
                    </div>
                    <div class="clearfix">&nbsp;</div>
                </div>
            </ng-template>
        </ng-template>




        <ng-template #requestformultipleorders let-c="close" let-d="dismiss">
            <div class="modal-content">

                <div class="modal-body">
                    <div class="modal-body">
                        <h4 class="text-center font-medium text-dark">Order For Material</h4>
                        <form #universityForm="ngForm" (ngSubmit)="universityForm.form.valid">
                            <div class=" row">


                                <div class="row mt-5">
                                    <div class="col-8">
                                        <div class="mb-2" id="all1">Upload FILE</div>
                                        <div id="all">You will be able to preview the list in the next step</div>
                                        <div class="col-4  ">
                                            <div id="fileInput" class="pl-4 py-2">

                                                <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                                                <input type="file" style="display: inline-block;"
                                                    (change)="incomingfile($event)" placeholder="Upload file"
                                                    accept=".xlsx">

                                            </div>

                                            <!-- <div class="pt-5 mr-4"  *ngIf=incomingfile style="margin-left: auto;"><button class="btn btn-primary" style="background-color: rgb(175, 111, 33)"data-toggle="modal" data-target="#exampleModalCenter" (click)="viewtable()" >View</button></div> -->
                                        </div>


                                    </div>

                                </div>



                            </div>
                            <div class="col-md-12 text-center">
                                <!-- <span class="text-danger">{{addingError}}</span> -->
                            </div>
                            <!--Modal footer for In Room dining editing-->
                            <div class="modal-footer">
                                <div class="col-md-12 text-center">
                                    <button class="btn btn-rounded  btn-cancel text-white" data-toggle="modal"
                                        data-target="#exampleModalCenter" (click)="viewtable()">View</button>
                                    &nbsp;&nbsp;
                                    <div class="modal" tabindex="-1" role="dialog" id="exampleModalCenter"
                                        *ngIf="table1">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content" style="    width: 216%; margin-left: -51%;     ">
                                                <div class="modal-header" style="border-bottom: 0px;">

                                                    <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="card" style="padding: 10px;">
                                                        <table class="table  table-hover"
                                                            style="background-color: white;">
                                                            <thead class="thead-light">
                                                                <tr>


                                                                    <th>Manufacture ID</th>
                                                                    <th>Supplier ID</th>
                                                                    <th>Material ID</th>
                                                                    <th>Material Name</th>

                                                                    <th>Quantity</th>


                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let arrayres of alldata" id="hidethis">
                                                                    <td>{{arrayres.manufactureid}}</td>
                                                                    <td>{{arrayres.supplierid}}</td>
                                                                    <td>{{arrayres.materialid}}</td>
                                                                    <td>{{arrayres.materialname}}</td>

                                                                    <td>{{arrayres.quantity}}</td>



                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="modal-footer" style="border-top: 0px;">
                                                    <div class="pt-5 mr-4" *ngIf=table1 style="margin-left: auto;">
                                                        <span></span>&nbsp;&nbsp;<button class="btn btn-primary"
                                                            data-toggle="modal" data-dismiss="modal"
                                                            (click)="verify()">Submit</button>&nbsp;&nbsp;
                                                        <button type="reset"
                                                            class="btn btn-rounded btn-cancel text-white"
                                                            data-dismiss="modal">Cancel</button>
                                                    </div>


                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <button type="reset" class="btn btn-rounded btn-cancel text-white"
                                        (click)="d('Cross click')" data-dismiss="modal">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </ng-template>



    </div>

</div>